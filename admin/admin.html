<!DOCTYPE html>
<html lang="vi">
    <head>
        <meta charset="utf-8">
        <title>Admin - Quáº£n lÃ½ ngÆ°á»i dÃ¹ng</title>
        <link rel="stylesheet" href="../style.css">
        <link rel="stylesheet" href="admin.css">
    </head>
    <body>
        <!-- ========== ÄÄ‚NG NHáº¬P ADMIN ========== -->
        <!-- Form Ä‘Äƒng nháº­p - chá»‰ admin/superadmin má»›i vÃ o Ä‘Æ°á»£c -->
        <div id="adminLogin" class="admin-login">
            <div class="login-box-admin">
                <h2>ÄÄƒng nháº­p Admin</h2>
                <!-- Input PIN 4 chá»¯ sá»‘ -->
                <input
                    id="adminPin"
                    type="password"
                    placeholder="Nháº­p PIN admin (4 chá»¯ sá»‘)"
                    maxlength="4"
                >
                <!-- Hiá»ƒn thá»‹ lá»—i Ä‘Äƒng nháº­p -->
                <div id="adminLoginMsg"></div>
                <!-- NÃºt Ä‘Äƒng nháº­p + liÃªn káº¿t vá» trang chÃ­nh -->
                <div class="login-actions">
                    <button id="adminLoginBtn">ğŸ”“ ÄÄƒng nháº­p</button>
                    <a href="../index.html">â† Vá» trang chÃ­nh</a>
                </div>
            </div>
        </div>
        <!-- ========== PANEL QUáº¢N LÃ (SAU KHI ÄÄ‚NG NHáº¬P) ========== -->
        <!-- Hiá»ƒn thá»‹ sau khi Ä‘Äƒng nháº­p thÃ nh cÃ´ng -->
        <div id="adminPanel" style="display:none">
            <div class="admin-container">
                <!-- navigation sidebar -->
                <nav class="admin-sidebar">
                    <ul id="adminNav">
                        <li data-panel="panel-users" class="active">ğŸ“‹ Quáº£n lÃ½ ngÆ°á»i dÃ¹ng</li>
                        <li data-panel="panel-tasks">ğŸ—‚ï¸ Quáº£n lÃ½ cÃ´ng viá»‡c</li>
                        <li data-panel="panel-editLog">ğŸ“ Nháº­t kÃ½ chá»‰nh sá»­a</li>
                        <li data-panel="panel-loginLog">ğŸ” Nháº­t kÃ½ Ä‘Äƒng nháº­p</li>
                    </ul>
                </nav>
                <!-- main content area -->
                <div class="admin-main">
                    <!-- panel: users -->
                    <div id="panel-users" class="panel-content">
                        <div class="admin-box">
                            <h2>ğŸ“‹ Quáº£n lÃ½ ngÆ°á»i dÃ¹ng</h2>
                            <!-- Input Äang chá»‰nh sá»­a user ID (hidden) -->
                            <input type="hidden" id="editingUserId">
                            <!-- Form thÃªm/sá»­a user -->
                            <div style="display:flex;gap:8px;align-items:center;margin-bottom:12px;flex-wrap:wrap">
                                <!-- Input tÃªn user -->
                                <input id="newName" placeholder="TÃªn ngÆ°á»i dÃ¹ng" style="padding:8px;flex:1;min-width:200px;border-radius:6px;border:1px solid #ddd">
                                <!-- Input PIN 4 chá»¯ sá»‘ -->
                                <input
                                    id="newPin"
                                    placeholder="PIN (4 chá»¯ sá»‘)"
                                    maxlength="4"
                                    style="padding:8px;width:140px;border-radius:6px;border:1px solid #ddd"
                                >
                                <!-- Dropdown chá»n role -->
                                <select id="newRole" style="padding:8px;border-radius:6px;border:1px solid #ddd">
                                    <option value="member">ğŸ‘¤ ThÃ nh viÃªn</option>
                                    <option value="admin">ğŸ‘¨â€ğŸ’¼ Quáº£n trá»‹ viÃªn</option>
                                    <option value="superadmin">ğŸ‘‘ Quáº£n trá»‹ viÃªn cáº¥p cao</option>
                                </select>
                                <!-- NÃºt thÃªm / cáº­p nháº­t -->
                                <button id="addUserBtn" class="btn-add" style="white-space:nowrap">â• ThÃªm</button>
                                <!-- NÃºt há»§y chá»‰nh sá»­a (hiá»‡n khi edit) -->
                                <button id="cancelEditBtn" class="btn-edit" style="white-space:nowrap;display:none">âŒ Há»§y</button>
                            </div>
                            <!-- Danh sÃ¡ch ngÆ°á»i dÃ¹ng - render bá»Ÿi JavaScript -->
                            <div class="user-list" id="userList"></div>
                        </div>
                    </div>
                    <!-- panel: tasks -->
                    <div id="panel-tasks" class="panel-content" style="display:none">
                        <div class="admin-box">
                            <h2>ğŸ—‚ï¸ Quáº£n lÃ½ cÃ´ng viá»‡c</h2>
                            <div id="taskUserList"></div>
                            <div id="taskDetails" style="display:none;margin-top:16px">
                                <button id="taskBackBtn">â† Quay láº¡i</button>
                                <div id="tasksContent" style="margin-top:12px"></div>
                            </div>
                        </div>
                    </div>
                    <!-- panel: edit log -->
                    <div id="panel-editLog" class="panel-content" style="display:none">
                        <div class="admin-box">
                            <h2>ğŸ“ Nháº­t kÃ½ chá»‰nh sá»­a</h2>
                            <em>Chá»©c nÄƒng Ä‘ang Ä‘Æ°á»£c xÃ¢y dá»±ng. Dá»± kiáº¿n hiá»ƒn thá»‹ theo: ngÆ°á»i dÃ¹ng â†’ nÄƒm â†’ thÃ¡ng â†’ tuáº§n â†’ ngÃ y â†’ cÃ´ng viá»‡c â†’ pháº§n nhá».</em>
                        </div>
                    </div>
                    <!-- panel: login log -->
                    <div id="panel-loginLog" class="panel-content" style="display:none">
                        <div class="admin-box">
                            <h2>ğŸ” Nháº­t kÃ½ Ä‘Äƒng nháº­p</h2>
                            <em>Chá»©c nÄƒng Ä‘ang Ä‘Æ°á»£c xÃ¢y dá»±ng. Hiá»ƒn thá»‹ sá»± kiá»‡n Ä‘Äƒng nháº­p cá»§a ngÆ°á»i dÃ¹ng.</em>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <!-- ========== SCRIPT ========== -->
        <!-- Firebase Realtime Database -->
        <script type="module" src="../firebase.js"></script>
        <!-- Logic quáº£n lÃ½ admin -->
        <script type="module" src="admin.js"></script>
    </body>
</html>
