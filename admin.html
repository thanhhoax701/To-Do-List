<!DOCTYPE html>
<html lang="vi">
    <head>
        <meta charset="utf-8">
        <title>Admin - Qu·∫£n l√Ω ng∆∞·ªùi d√πng</title>
        <link rel="stylesheet" href="style.css">
        <style>
        body{padding:20px;background:#f4f6f9;font-family:Arial,sans-serif}
        .admin-box{max-width:900px;margin:18px auto;background:#fff;padding:16px;border-radius:12px;box-shadow:0 2px 8px rgba(0,0,0,0.1)}
        .user-list{margin-top:12px}
        .user-item{display:flex;justify-content:space-between;padding:12px;border-bottom:1px solid #eee;align-items:center}
        .user-item .meta{display:flex;gap:16px;align-items:center;flex:1}
        .admin-login{max-width:420px;margin:40px auto;text-align:center}
        .login-box-admin{background:linear-gradient(180deg,#0b1220,#172031);color:#fff;border-radius:14px;padding:28px;box-shadow:0 18px 48px rgba(0,0,0,0.3)}
        .login-box-admin h2{font-size:24px;margin:0 0 18px;font-weight:600}
        .login-box-admin input{width:100%;padding:12px;font-size:18px;border:1px solid rgba(255,255,255,0.2);border-radius:8px;background:rgba(255,255,255,0.1);color:#fff;margin-bottom:12px;box-sizing:border-box;transition:all 0.3s}
        .login-box-admin input::placeholder{color:rgba(255,255,255,0.6)}
        .login-box-admin input:focus{outline:none;background:rgba(255,255,255,0.15);border-color:rgba(255,255,255,0.4);box-shadow:0 0 8px rgba(77,208,225,0.3)}
        .login-actions{display:flex;gap:10px;justify-content:center;align-items:center;margin-top:14px}
        .login-actions button{flex:1;padding:10px;background:#28a745;color:#fff;border:none;border-radius:8px;font-size:15px;font-weight:600;cursor:pointer;transition:all 0.2s}
        .login-actions button:hover{background:#218838;transform:translateY(-1px)}
        .login-actions a{flex:1;padding:10px;color:rgba(255,255,255,0.85);text-decoration:none;font-size:14px;background:rgba(255,255,255,0.1);border-radius:8px;transition:all 0.2s}
        .login-actions a:hover{background:rgba(255,255,255,0.15)}
        #adminLoginMsg{color:#ff6b6b;margin-top:12px;font-size:14px;min-height:18px}
        </style>
    </head>
    <body>
        <!-- ========== ƒêƒÇNG NH·∫¨P ADMIN ========== -->
        <!-- Form ƒëƒÉng nh·∫≠p - ch·ªâ admin/superadmin m·ªõi v√†o ƒë∆∞·ª£c -->
        <div id="adminLogin" class="admin-login">
            <div class="login-box-admin">
                <h2>ƒêƒÉng nh·∫≠p Admin</h2>
                <!-- Input PIN 4 ch·ªØ s·ªë -->
                <input
                    id="adminPin"
                    type="password"
                    placeholder="Nh·∫≠p PIN admin (4 ch·ªØ s·ªë)"
                    maxlength="4"
                >
                <!-- Hi·ªÉn th·ªã l·ªói ƒëƒÉng nh·∫≠p -->
                <div id="adminLoginMsg"></div>
                <!-- N√∫t ƒëƒÉng nh·∫≠p + li√™n k·∫øt v·ªÅ trang ch√≠nh -->
                <div class="login-actions">
                    <button id="adminLoginBtn">üîì ƒêƒÉng nh·∫≠p</button>
                    <a href="index.html">‚Üê V·ªÅ trang ch√≠nh</a>
                </div>
            </div>
        </div>
        <!-- ========== PANEL QU·∫¢N L√ù (SAU KHI ƒêƒÇNG NH·∫¨P) ========== -->
        <!-- Hi·ªÉn th·ªã sau khi ƒëƒÉng nh·∫≠p th√†nh c√¥ng -->
        <div id="adminPanel" style="display:none">
            <!-- H·ªôp qu·∫£n l√Ω ng∆∞·ªùi d√πng -->
            <div class="admin-box">
                <h2>üìã Qu·∫£n l√Ω ng∆∞·ªùi d√πng</h2>
                <!-- Input ƒêang ch·ªânh s·ª≠a user ID (hidden) -->
                <input type="hidden" id="editingUserId">
                <!-- Form th√™m/s·ª≠a user -->
                <div style="display:flex;gap:8px;align-items:center;margin-bottom:12px;flex-wrap:wrap">
                    <!-- Input t√™n user -->
                    <input id="newName" placeholder="T√™n ng∆∞·ªùi d√πng" style="padding:8px;flex:1;min-width:200px;border-radius:6px;border:1px solid #ddd">
                    <!-- Input PIN 4 ch·ªØ s·ªë -->
                    <input
                        id="newPin"
                        placeholder="PIN (4 ch·ªØ s·ªë)"
                        maxlength="4"
                        style="padding:8px;width:140px;border-radius:6px;border:1px solid #ddd"
                    >
                    <!-- Dropdown ch·ªçn role -->
                    <select id="newRole" style="padding:8px;border-radius:6px;border:1px solid #ddd">
                        <option value="member">üë§ Th√†nh vi√™n</option>
                        <option value="admin">üë®‚Äçüíº Qu·∫£n tr·ªã vi√™n</option>
                        <option value="superadmin">üëë Qu·∫£n tr·ªã vi√™n c·∫•p cao</option>
                    </select>
                    <!-- N√∫t th√™m / c·∫≠p nh·∫≠t -->
                    <button id="addUserBtn" class="btn-add" style="white-space:nowrap">‚ûï Th√™m</button>
                    <!-- N√∫t h·ªßy ch·ªânh s·ª≠a (hi·ªán khi edit) -->
                    <button id="cancelEditBtn" class="btn-edit" style="white-space:nowrap;display:none">‚ùå H·ªßy</button>
                </div>
                <!-- Danh s√°ch ng∆∞·ªùi d√πng - render b·ªüi JavaScript -->
                <div class="user-list" id="userList"></div>
            </div>
        </div>
        <!-- ========== SCRIPT ========== -->
        <!-- Firebase Realtime Database -->
        <script type="module" src="firebase.js"></script>
        <!-- Logic qu·∫£n l√Ω admin -->
        <script type="module" src="admin.js"></script>
    </body>
</html>
